<ion-view title="Pesanan" id="transaksi">
    <ion-content lazy-scroll padding="true" class="has-header">
        <ion-refresher
            pulling-text="Lepas untuk memperbarui"
            on-refresh="getHistory(uid)"
            spinner = "ripple" >
        </ion-refresher>
        <div class="mangan-nodata" ng-hide="transactions.length > 0">
            <i class="icon ion-bag"></i>
            <p>Kamu Belum Melakukan Transaksi</p>
            <div class="mangan-divider" style="margin-top: 10px;"></div>
            <p style="margin-bottom: 10px;">Coba Layanan Pesan Antar MANGAN Sekarang</p>
            <button class="button button-small button-outline button-oren" ng-click="openAll()">COBA SEKARANG</button>
        </div>
        
        <div class="list card" style="padding:0;" ng-hide="transactions.length == 0">
            <ion-item class="mangan-invoice-header item-text-wrap" style="border: 0;">
                RIWAYAT TRANSAKSI
            </ion-item>
            <div class="item item-text-wrap" style="border:0"><p>Riwayat transaksi dalam 1 minggu</p></div>
            <div class="item item-thumbnail-left item-icon-right item-text-wrap" style="border:0;" ng-repeat="transaction in transactions | orderObjectBy: 'tgl' :true" ng-click="rincianTransaksi(transaction.kurir, transaction.indexTransaksi)";>
            	<img ng-src="{{transaction.pesanan[0].gambar}}">
                <h3 style="padding-top:0;">{{transaction.namaResto}}</h3>
                <p>Status: <span class="kapital">{{transaction.status}}</span></p>
                <p>Kurir: <span class="kapital">{{transaction.kurir}}</span></p>
                <p>Total Bayar: <span class="kapital">{{transaction.totalHarga}}</span></p>
                <i class="icon ion-ios-arrow-right"></i>
            </div>
        </div>
    </ion-content>
</ion-view>